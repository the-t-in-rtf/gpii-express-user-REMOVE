{
    "docs": [
        {
            "_id":         "sample",
            "type":        "user",
            "name":        "sample",
            "derived_key": "dd11a6d074786fc914cbcdbc7ec5a06ad002812a",
            "salt":        "secret",
            "iterations":  10,
            "email":       "sample@sample.com",
            "roles":       ["role1", "role3"],
            "verified":    true
        },
        {
            "type":        "user",
            "name":        "unverified",
            "derived_key": "dd11a6d074786fc914cbcdbc7ec5a06ad002812a",
            "salt":        "secret",
            "iterations":  10,
            "email":       "unverified@sample.com",
            "roles":       ["role1", "role2"],
            "verified":    false
        },
        {
            "_id":         "existing",
            "type":        "user",
            "name":        "existing",
            "derived_key": "dd11a6d074786fc914cbcdbc7ec5a06ad002812a",
            "salt":        "secret",
            "iterations":  10,
            "email":       "existing@sample.com",
            "roles":       ["role3", "role2"],
            "verified":    true
        },
        {
            "_id": "_design/lookup",
            "views": {
                "byUsernameOrEmail": {
                    "map": "function (doc) {\n if (doc.type === 'user') { emit (doc.name, doc); \n emit (doc.email, doc); \n } \n}"
                },
                "byVerificationCode": {
                    "map": "function (doc) {\n if (doc.verification_code) { emit(doc.verification_code, doc); \n } \n}"
                },
                "byResetCode": {
                    "map": "function (doc) {\n if (doc.reset_code) { emit(doc.reset_code, doc); \n } \n}"
                }
            }
        }
    ]
}
